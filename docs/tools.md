# Research Tools & Process

*This page describes the automated research system that produced the 18 studies in this series.*

---

## How the Studies Were Produced

Each study was generated by a three-agent pipeline called **bible-study2**, a Claude Code skill that answers Bible questions through tool-driven research. The pipeline ensures that:

- **Scope comes from tools, not training knowledge.** The AI does not decide which verses are relevant based on what it was trained on. Instead, tools search topical dictionaries, concordances, and semantic indexes to discover what Scripture says about the topic.
- **Research and analysis are separated.** The agent that gathers data is not the same agent that draws conclusions. This prevents confirmation bias.
- **Every claim is traceable.** Raw tool output is preserved in each study's `raw-data/` folder, so every finding can be verified against its source.

### The Three-Agent Pipeline

```
Phase 1: Scoping Agent
   ↓ Discovers topics, verses, Strong's numbers, related studies
   ↓ Writes PROMPT.md (the research brief)

Phase 2: Research Agent
   ↓ Reads PROMPT.md
   ↓ Retrieves all verse text, runs parallels, word studies, parsing
   ↓ Writes 01-topics.md, 02-verses.md, 04-word-studies.md
   ↓ Saves raw tool output to raw-data/

Phase 3: Analysis Agent
   ↓ Reads clean research files
   ↓ Applies interpretive principles, does verse-by-verse analysis
   ↓ Writes 03-analysis.md and CONCLUSION.md
```

**Why three agents instead of one?**

- The **scoping agent** prevents training-knowledge bias. Scope comes from tool discovery, not from what the AI "knows" about theology.
- The **research agent** gets a fresh context window dedicated to data gathering. This maximizes the amount of data it can collect without running out of context.
- The **analysis agent** gets a fresh context window loaded with clean, organized research. This maximizes its capacity for synthesis and careful reasoning.

---

## The Study Files

Each study directory contains these files, produced by the pipeline:

| File | Produced By | Contents |
|------|-------------|----------|
| `PROMPT.md` | Scoping Agent | The research brief: tool-discovered topics, verses, Strong's numbers, related studies, and focus areas |
| `01-topics.md` | Research Agent | Nave's Topical Bible entries with all verse references for each topic |
| `02-verses.md` | Research Agent | Full KJV text for every verse examined, organized thematically |
| `04-word-studies.md` | Research Agent | Strong's concordance data: Hebrew/Greek words, definitions, translation statistics, verse occurrences |
| `raw-data/` | Research Agent | Raw tool output archived by category (Strong's lookups, parsing, parallels, etc.) |
| `03-analysis.md` | Analysis Agent | Verse-by-verse analysis, patterns identified, connections between passages, both-sides arguments |
| `CONCLUSION.md` | Analysis Agent | Final evidence classification (E/N/I tables), tally, "What CAN/CANNOT Be Said" |

---

## Data Sources

The tools draw from these primary data sources:

| Source | Description | Size |
|--------|-------------|------|
| **KJV Bible** | Complete King James Version text | 31,102 verses |
| **Nave's Topical Bible** | Orville J. Nave's topical dictionary | 5,319 topics |
| **Strong's Concordance** | James Strong's exhaustive concordance with Hebrew/Greek lexicon | Every word in the KJV mapped to original language |
| **BHSA** (Biblia Hebraica Stuttgartensia Amstelodamensis) | Hebrew Bible linguistic database via Text-Fabric | Full morphological parsing of every Hebrew word |
| **N1904** (Nestle 1904) | Greek New Testament linguistic database via Text-Fabric | Full morphological parsing of every Greek word |
| **Textus Receptus** | Byzantine Greek text tradition | For textual variant comparison |
| **LXX Mapping** | Septuagint translation correspondences | Hebrew-to-Greek word mappings |
| **Sentence embeddings** | Pre-computed semantic vectors | For semantic search across all sources |

---

## Tool Descriptions

### Topic & Verse Lookup

#### naves_semantic.py -- Semantic Topic Search

Finds relevant Nave's Topical Bible topics using semantic similarity (sentence embeddings), not just keyword matching. A query like "what happens when you die" finds topics like DEATH, SLEEP (FIGURATIVE), RESURRECTION, and IMMORTALITY even though those exact words may not appear in the query.

- **Input:** Natural language query
- **Output:** Ranked list of topics with relevance scores and key verse references
- **Used by:** Scoping agent to discover which topics are relevant to the research question

#### naves_db.py -- Nave's Topical Dictionary Query

Direct lookup of Nave's Topical Bible entries. Returns the full entry for a topic, including all subtopics and every verse reference Nave catalogued.

- **Modes:**
    - `--topic "FAITH"` -- Full entry for a specific topic
    - `--search "salvation"` -- Full-text search across all 5,319 topics
    - `--list` -- List all available topics
- **Used by:** Research agent to retrieve complete topic entries with all verse references

#### kjv.txt -- KJV Bible Text

The complete King James Version in a simple searchable format (`BookName Chapter:Verse[TAB]Text`). Verses are retrieved using pattern matching (Grep tool).

- **Format:** `Genesis 1:1	In the beginning God created the heaven and the earth.`
- **Used by:** Research agent to retrieve the actual text of every verse discovered during scoping

---

### Cross-Testament Parallels

#### cross_testament_parallels_v2.py -- Hybrid Parallel Finder

Finds parallel passages across testaments using a hybrid scoring system that combines:

1. **Semantic similarity** -- sentence embedding comparison
2. **Keyword overlap** -- shared significant terms
3. **Theological phrase matching** -- recognized biblical phrases and allusions

For every verse studied, the tool is run in BOTH directions (`--hybrid-ot` and `--hybrid-nt`) to find parallels in both testaments, regardless of which testament the source verse is in.

- **Input:** A verse reference (e.g., "REV 14:11")
- **Output:** Ranked list of parallel passages with composite scores
- **Used by:** Research agent to discover cross-references and OT/NT connections (e.g., discovering that Rev 14:11's "smoke ascending" language draws from Isaiah 34:10)

---

### Strong's Concordance & Word Studies

#### search_strongs.py -- Strong's Translation Database

Searches Strong's exhaustive concordance for Hebrew and Greek word data.

- **Modes:**
    - `--lookup H430` -- All translations and verse counts for a Strong's number
    - `--lexicon H430` -- Word form, part of speech, full definition
    - `--verses H430 "gods"` -- Every verse where H430 is translated as "gods"
    - `--lxx-map H430` -- How the Septuagint translates this Hebrew word into Greek
    - `--hebrew-source G2316` -- Which Hebrew words underlie this Greek word
- **Used by:** Research agent for word studies: understanding how original-language words are used, their semantic range, and translation patterns

#### semantic_strongs.py -- Semantic Strong's Search

Finds Strong's concordance entries related to a concept using semantic similarity. Useful when you know the concept but not the specific Hebrew/Greek word.

- **Input:** Natural language description (e.g., "divine wrath", "eternal punishment")
- **Output:** Ranked Strong's entries with relevance scores
- **Options:** `--hebrew` for Hebrew words only; `--verses` to include verse references
- **Used by:** Scoping agent to discover which Strong's numbers are relevant to the research question

---

### Hebrew Grammar Analysis

#### hebrew_parser.py -- Hebrew Morphological Parser

Parses the Hebrew Bible (BHSA via Text-Fabric) with full morphological analysis.

- **Modes:**
    - `--verse "Gen 6:4"` -- Full parsing: Hebrew text, lemmas, part of speech, stem (Qal/Niphal/Piel/etc.), tense (perfect/imperfect/participle/etc.), person, gender, number
    - `--clause "Gen 6:4"` -- Clause structure: clause types (XQtl, xYqX, Wayq, NmCl), domains (Narrative vs. Discourse), phrase functions
    - `--construct "Gen 6:2"` -- Analyze construct chains (e.g., "sons of God")
    - `--lemma "מלאך"` -- Find every occurrence of a Hebrew lemma
    - `--search "sp=verb vs=qal vt=perf"` -- Search by grammatical features
- **Used by:** Research agent for Hebrew word studies and grammar analysis

---

### Greek Grammar Analysis

#### greek_parser.py -- Greek NT Morphological Parser

Parses the Greek New Testament (N1904 via Text-Fabric) with full morphological analysis.

- **Modes:**
    - `--verse "2PE 2:4"` -- Full parsing: Greek text, lemmas, Strong's numbers, tense, voice, mood, case, number, gender, person
    - `--clause "ROM 8:28"` -- Clause structure analysis
    - `--lemma "πιστεύω"` -- Find every occurrence of a Greek lemma
    - `--search "mood=participle"` -- Search by grammatical features
- **Used by:** Research agent for Greek word studies and grammar analysis

#### greek_text_compare.py -- Textual Variant Comparison

Compares the Nestle 1904 (N1904) critical text with the Textus Receptus.

- **Modes:**
    - `--verse "JHN 3:16"` -- Word-by-word comparison with differences highlighted
    - `--chapter "ROM 8"` -- Full chapter comparison
    - `--stats` -- Overall variant statistics across the NT
- **Used by:** Research agent when textual variants are relevant to interpretation

#### greek_parallel_passages.py -- NT Parallel Passage Finder

Finds parallel passages within the Greek New Testament, especially useful for Synoptic Gospel comparisons.

- **Modes:**
    - `--find "MAT 5:3"` -- Find parallel passages
    - `--compare "MAT 5" "LUK 6"` -- Compare two chapters
    - `--synoptic` -- Full Synoptic Gospel parallel analysis
- **Used by:** Research agent for finding related NT passages

---

### Context Analysis

#### concept_context.py -- Theological Concept Context

Finds verses sharing the same theological concepts as a given verse, prioritized by contextual proximity (same chapter > same book > same author > other).

- **Extracts** theological concepts from a verse via its Strong's numbers (e.g., LAW, RIGHTEOUSNESS, FAITH, MESSIAH)
- **Finds** other verses using those concepts, organized by expanding circles of context
- **Scopes:** `--scope chapter`, `--scope book`, `--scope author`, or full Bible
- **Used by:** Research agent to understand how an author or book uses a concept

#### query_verse_context.py -- Rich Contextual Query

Combines multiple analysis tools into a single contextual query.

- **Modes:**
    - Default -- Full context analysis
    - `--similar` -- Find semantically similar verses
    - `--pericope` -- Show the full pericope (passage unit)
    - `--grammar` -- Grammatical pattern analysis
    - `--theme` -- Chapter theme inference
    - `--theological` -- Theological concept parallels
    - `--layer chapter/book/topics` -- Specific context layer
    - `--strongs G26` -- Find all verses containing a Strong's number
    - `--topic "FAITH"` -- Find verses associated with a Nave's topic
    - `--author Paul` -- Author statistics
- **Used by:** Research agent for multi-dimensional context analysis

---

### Grammar Reference

#### semantic_grammar.py -- Grammar Textbook Search

Semantic search across 10 Hebrew and Greek grammar textbooks.

- **Hebrew grammars:** BDB (Brown-Driver-Briggs), Futato, BHSG (Basics of Biblical Hebrew Student Grammar), GKC (Gesenius-Kautzsch-Cowley), Waltke-O'Connor
- **Greek grammars:** Duff, Hudson, Machen, BDF (Blass-Debrunner-Funk), Wallace
- **Options:** `--hebrew` or `--greek` to filter; `--book gkc` for a specific textbook
- **Used by:** Research agent to verify grammar claims against standard reference works

---

### Study Index & Search

#### semantic_studies.py -- Existing Study Search

Finds previously completed studies related to a concept using semantic similarity.

- **Input:** Natural language query (e.g., "state of the dead", "sanctuary judgment")
- **Output:** Study slug, title, question, relevance score, tags
- **Used by:** Scoping agent to discover what related research already exists

#### build_index.py / build_studies_index.py -- Index Rebuilder

Regenerates the master study index (`INDEX.md`) and semantic search embeddings after a study is completed.

- **Used by:** Analysis agent after writing CONCLUSION.md

---

## Interpretive Principles

The analysis agent follows these principles when drawing conclusions from the gathered data:

1. **Scripture interprets Scripture.** Don't impose external meaning. Find how the Bible itself uses terms and concepts.
2. **Answers must be consistent with ALL verses analyzed.** If verses seem to contradict, dig deeper into original language and context.
3. **Context determines meaning.** Analyze words and phrases using expanding circles: verse > paragraph > chapter > book > same author > whole Bible. Context must match before assuming same meaning across passages.
4. **Scripture is the only authority for doctrine.** Church fathers, ancient Jewish sources, and denominational traditions are not authoritative. The question is always: "What does the Bible say?"
5. **Go deeper when needed.** If initial research doesn't fully answer the question, search for related topics, look up Strong's words, and follow cross-references.

---

## Web Supplement

In addition to the local tools, extended lexicon entries were occasionally retrieved from:

- **Blue Letter Bible** (blueletterbible.org) -- Extended Hebrew/Greek lexicon definitions when local Strong's data needed more detail
